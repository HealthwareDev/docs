---
title: "Natural Language Query (NLQ)"
openapi: "POST /api/rules"
description: "A declarative engine where you define “if this, then that” logic in YAML to respond to physiological trends."
---

<RequestExample>

```bash HTTP
POST /api/rules HTTP/1.1
Host: api.healthware.dev
Content-Type: application/json
x-api-key: YOUR_API_KEY
dev-id:  YOUR_DEV_ID

{
  "user_connection_id": "USER_CONN_ID",
  "rule": {
    "id":   "sleep-and-recovery-over-65",
    "when": "sleep_score and readiness is greater than 65",
    "then": { "webhook": "https://example.com/webhook" }
  },
  "llm": { "provider": "openai", "model": "gpt-4o" }
}
```


```bash BASH
curl -X POST "https://api.healthware.dev/api/rules" \
  -H "Content-Type: application/json" \
  -H "x-api-key: $API_KEY" \
  -H "dev-id:  $DEV_ID" \
  -d @rule.json   # save the JSON above as rule.json
```


```javascript JavaScript
const ruleBody = {
  user_connection_id: CONN_ID,
  rule: {
    id:   "sleep-and-recovery-over-65",
    when: "sleep_score and readiness is greater than 65",
    then: { webhook: "https://example.com/webhook" }
  },
  llm: { provider: "openai", model: "gpt-4o" }
};

const res = await fetch(`https://api.healthware.dev/api/rules`, {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    "x-api-key": API_KEY,
    "dev-id":   DEV_ID
  },
  body: JSON.stringify(ruleBody)
}).then(r => r.json());
```

</RequestExample>

<ResponseExample>

```json Response
{
    "status": 200
}
```

</ResponseExample>